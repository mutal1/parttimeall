{% load static %}
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href={% static "css/jobopening.css"%}>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <title>HotTime</title>

    <!-- jquery -->
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <style>
        .box{
            width: 150px;
            height: 150px;
            border-radius: 70%;
            overflow: hidden;
        }

        .profile{
            width: 100%;
            height: 100%;
            object-fit: cover;

        }

        .modal_overlay {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(1.5px);
            -webkit-backdrop-filter: blur(1.5px);
        }

        .modal_window {
            background: white;
            backdrop-filter: blur(13.5px);
            -webkit-backdrop-filter: blur(13.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            width: 800px;
            height: 600px;
            position: relative;
            padding: 10px;
            text-align: center;
        }
    </style>
    <title>Chanstagram</title>
</head>

<body>
<div id="page">
    <span class="slide">
      <span id="header">
          <a href="/main" class="backBtn"><i id="backIcon"
                                             class="fas fa-chevron-left"></i></a>
      </span>
      <h1>HotTime</h1>
      <div>
         <a href="#"> <img id="addbox" style="height: 40px; width: 40px" src={% static "image/addbox.png" %}></a>
      </div>
  </span>

    <div id="menu" class="nav">

    </div>
</div>



<div id="content">
    <div class="writingContainer">
        <label id=postLabel><b>구인게시글</b></label>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input name="titlebox" id="titlebox" type="text" placeholder="제목"><br>
            <textarea name="contentbox" id="contentbox" cols="30" rows="10" placeholder="본문"></textarea><br>

            <label >성별</label>
            <input type="radio" name="userGender" value="상관없음" checked class=Genderinput> <label class=GenderinputLabel>상관없음</label>
            <input type="radio" name="userGender" value="남" class=Genderinput> <label class=GenderinputLabel>남</label>
            <input type="radio" name="userGender" value="여" class=Genderinput> <label class=GenderinputLabel>여</label><br>

            <label>근무시작일</label><input type="date" id="workStart" name="workStart"><br>
            <label>근무마감일</label><input type="date" id="workEnd" name="workEnd"><br>
            <label>시작 시급</label> <input type="text" id="startmoney"  name="startmoney"> <label id=payLabel_start>원</label><br>
            <label>종료 시급</label> <input type="text" id="endmoney"  name="endmoney"> <label id=payLabel_end>원</label><br>
            <label>지역</label>
            <input type="text" id="address" name="address"><br>
            <input name="file" type="file">
            <div style="text-align: center; "> <input type="submit" id="saveBtn" value="Upload"></input><br></div>

        </form>

    </div>
</div>
</div>
<!-- 첫번째 모달 -->
{#<div id="first_modal" class="modal_overlay">#}
{#    <div class="modal_window">#}
{#        <div>#}
{#            <div style="display: flex; flex-direction: row; justify-content: space-between; border-bottom: solid 1px gray">#}
{#                <div style="width: 40px;">#}
{##}
{#                </div>#}
{#                <div>#}
{#                    새 이미지 업로드#}
{#                </div>#}
{#                <div style="width: 40px;">#}
{#                    <span id="first_modal_close_box" class="material-symbols-outlined">#}
{#                        cancel#}
{#                    </span>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#        <div class="img_upload_space" style=" width: 778px; height: 540px; margin-top: 10px">#}
{#            <div class="content">#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
{#<!-- 두번째 모달 -->#}
{#<div id="second_modal" class="modal_overlay">#}
{#    <div class="modal_window">#}
{#        <div>#}
{#            <div style="display: flex; flex-direction: row; justify-content: space-between; border-bottom: solid 1px gray">#}
{#                <div style="width: 40px;">#}
{##}
{#                </div>#}
{#                <div>#}
{#                    새 이미지 업로드#}
{#                </div>#}
{#                <div style="width: 40px;">#}
{#                    <span id="second_modal_close_box" class="material-symbols-outlined">#}
{#                        cancel#}
{#                    </span>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#        <div style="display: flex;">#}
{#            <div class="img_upload_space" style=" width: 500px; height: 540px; margin-top: 10px; margin-right: 10px">#}
{#                <div class="content">#}
{#                </div>#}
{#            </div>#}
{#            <div style="border-left: solid 1px gray">#}
{##}
{#                <botton id= "feed_create_button" type="button" class="btn btn-primary" styl="width: 100%">#}
{#                    upload#}
{#                </botton>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
<script>
    $('#saveBtn').click(function () {
        alert("upload 되었습니다!");
    });

    {#let files;#}
    {##}
    {#$('#addbox').click(function(){#}
    {#    $('#first_modal').css({#}
    {#        display : 'flex'#}
    {#    });#}
    {#    $(document.body).css({#}
    {#        overflow : 'hidden'#}
    {#    });#}
    {#});#}
        {#$('#first_modal_close_box').click(function(){#}
        {#    $('#first_modal').css({#}
        {#        display : 'none'#}
        {#    });#}
        {#    $(document.body).css({#}
        {#        overflow: 'auto'#}
        {#    });#}
        {##}
        {#});#}
            {#$('#second_modal_close_box').click(function(){#}
            {#    $('#second_modal').css({#}
            {#        display : 'none'#}
            {#    });#}
            {#    $(document.body).css({#}
            {#        overflow: 'auto'#}
            {#    });#}
            {##}
            {#});#}
                {#$('.img_upload_space')#}
                {#    .on("dragover", dragOver)#}
                {#    .on("dragleave", dragOver)#}
                {#    .on("drop", uploadFiles);#}
                {##}
                {#function dragOver(e){#}
                {#    e.stopPropagation();#}
                {#    e.preventDefault();#}
                {##}
                {#    if (e.type == "dragover") {#}
                {#        $(e.target).css({#}
                {#            "background-color": "black",#}
                {#            "outline-offset": "-20px"#}
                {#        });#}
                {#    } else {#}
                {#        $(e.target).css({#}
                {#            "outline-offset": "-10px"#}
                {#        });#}
                {#    }#}
                {#}#}
                    {#function uploadFiles(e){#}
                    {#    e.stopPropagation();#}
                    {#    e.preventDefault();#}
                    {##}
                    {#    e.dataTransfer = e.originalEvent.dataTransfer; //2#}
                    {#    files = e.target.files || e.dataTransfer.files;#}
                    {#    console.log("뭔가 파일을 올렸네"+files[0].name);#}
                    {#    if (files.length > 1) {#}
                    {#        alert('하나만 올리실 수 있습니다');#}
                    {#        return;#}
                    {#    }#}
                    {##}
                    {#    if (files[0].type.match(/image.*/)) {#}
                    {##}
                    {#        $('#first_modal').css({#}
                    {#            display:'none'#}
                    {#        });#}
                    {##}
                    {#        $('#second_modal').css({#}
                    {#            display:'flex'#}
                    {#        });#}
                    {##}
                    {#        $('.img_upload_space').css({#}
                    {#            "background-image": "url(" + window.URL.createObjectURL(files[0]) + ")",#}
                    {#            "outline": "none",#}
                    {#            "background-size": "100%",#}
                    {#            "background-repeat": "no-repeat",#}
                    {#            "background-position": "center"#}
                    {#        });#}
                    {#    }else{#}
                    {#        alert('이미지가 아닙니다.');#}
                    {#        return;#}
                    {#    }#}
                    {##}
                    {#}#}
                        {##}
                        {#$('#saveBtn').click(function (){#}
                        {##}
                        {#    const file = files[0];#}
                        {#    let image=files[0].name;#}
                        {#    let fd= new FormData();#}
                        {#    fd.append('file',file);#}
                        {#    fd.append('image',image);#}
                        {##}
                        {#    $.ajax({#}
                        {#        url: "/main/hottime",#}
                        {#        data: fd,#}
                        {#        method:"POST",#}
                        {#        processData: false,#}
                        {#        contentType: false,#}
                        {#        success: function(data){#}
                        {#            console.log("성공");#}
                        {#        },#}
                        {#        error: function (request, status, error){#}
                        {#            console.log("에러");#}
                        {#        },#}
                        {#        complete: function (){#}
                        {#            console.log("완료");#}
                        {#location.replace("/main");#}
                        {#        }#}
                        {#    });#}
                        {#});#}
                            {#$('#feed_create_button').click(function (){#}
                            {#    alert('공유하기');#}
                            {#     $('#second_modal').css({#}
                            {#        display : 'none'#}
                            {#    });#}
                            {#    $(document.body).css({#}
                            {#        overflow: 'auto'#}
                            {#    });#}
                            {#})#}
</script>
<script src={% static "js/jobopening.js"%}></script>
</body>
</html>